{"ast":null,"code":"import { signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut, sendSignInLinkToEmail } from 'firebase/auth';\nconst actionCodeSettings = {\n  url: 'http://localhost:3000/',\n  // This must be true.\n  handleCodeInApp: true,\n  iOS: {\n    bundleId: 'com.example.ios'\n  },\n  android: {\n    packageName: 'com.example.android',\n    installApp: true,\n    minimumVersion: '12'\n  },\n  dynamicLinkDomain: 'example.page.link'\n};\nexport default class FirebaseUserService {}\n\nFirebaseUserService.signup = (auth, login, password, callback) => {\n  createUserWithEmailAndPassword(auth, login, password).then(userCredential => {\n    sendSignInLinkToEmail(auth, login, actionCodeSettings).then(() => {\n      callback(true, userCredential.user);\n    }).catch(error => {\n      callback(false, error.code);\n      console.log(error.code);\n    });\n  }).catch(error => {\n    callback(false, error.code);\n    console.log(error.code);\n  });\n};\n\nFirebaseUserService.login = (auth, email, password, callback) => {\n  signInWithEmailAndPassword(auth, email, password).then(userCredential => {\n    userCredential.user.sendEmailVerification();\n    callback(userCredential.user);\n  }).catch(error => {\n    callback(null);\n    console.log(error);\n  });\n};\n\nFirebaseUserService.logout = (auth, callback) => {\n  signOut(auth).then(() => callback(true)).catch(error => {\n    console.log(error);\n    callback(false);\n  });\n};","map":{"version":3,"sources":["/home/saulo/Documents/atividade6/crud_firebase/src/services/FirebaseUserService.js"],"names":["signInWithEmailAndPassword","createUserWithEmailAndPassword","signOut","sendSignInLinkToEmail","actionCodeSettings","url","handleCodeInApp","iOS","bundleId","android","packageName","installApp","minimumVersion","dynamicLinkDomain","FirebaseUserService","signup","auth","login","password","callback","then","userCredential","user","catch","error","code","console","log","email","sendEmailVerification","logout"],"mappings":"AAAA,SAASA,0BAAT,EAAqCC,8BAArC,EAAqEC,OAArE,EAA8EC,qBAA9E,QAA2G,eAA3G;AAEA,MAAMC,kBAAkB,GAAG;AACxBC,EAAAA,GAAG,EAAE,wBADmB;AAExB;AACAC,EAAAA,eAAe,EAAE,IAHO;AAIxBC,EAAAA,GAAG,EAAE;AACHC,IAAAA,QAAQ,EAAE;AADP,GAJmB;AAOxBC,EAAAA,OAAO,EAAE;AACPC,IAAAA,WAAW,EAAE,qBADN;AAEPC,IAAAA,UAAU,EAAE,IAFL;AAGPC,IAAAA,cAAc,EAAE;AAHT,GAPe;AAYxBC,EAAAA,iBAAiB,EAAE;AAZK,CAA3B;AAgBA,eAAe,MAAMC,mBAAN,CAA0B;;AAApBA,mB,CAEVC,M,GAAS,CAACC,IAAD,EAAOC,KAAP,EAAcC,QAAd,EAAwBC,QAAxB,KAAqC;AACjDlB,EAAAA,8BAA8B,CAC1Be,IAD0B,EACpBC,KADoB,EACbC,QADa,CAA9B,CAGKE,IAHL,CAISC,cAAD,IAAkB;AACdlB,IAAAA,qBAAqB,CAACa,IAAD,EAAOC,KAAP,EAAcb,kBAAd,CAArB,CACCgB,IADD,CACM,MAAM;AACRD,MAAAA,QAAQ,CAAC,IAAD,EAAOE,cAAc,CAACC,IAAtB,CAAR;AACF,KAHF,EAICC,KAJD,CAIQC,KAAD,IAAW;AACdL,MAAAA,QAAQ,CAAC,KAAD,EAAQK,KAAK,CAACC,IAAd,CAAR;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACC,IAAlB;AACH,KAPD;AAQH,GAbT,EAeKF,KAfL,CAgBSC,KAAD,IAAW;AACPL,IAAAA,QAAQ,CAAC,KAAD,EAAQK,KAAK,CAACC,IAAd,CAAR;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACC,IAAlB;AACH,GAnBT;AAqBH,C;;AAxBgBX,mB,CA0BVG,K,GAAQ,CAACD,IAAD,EAAOY,KAAP,EAAcV,QAAd,EAAwBC,QAAxB,KAAqC;AAChDnB,EAAAA,0BAA0B,CAACgB,IAAD,EAAOY,KAAP,EAAcV,QAAd,CAA1B,CACKE,IADL,CAESC,cAAD,IAAoB;AAChBA,IAAAA,cAAc,CAACC,IAAf,CAAoBO,qBAApB;AACAV,IAAAA,QAAQ,CAACE,cAAc,CAACC,IAAhB,CAAR;AACH,GALT,EAOKC,KAPL,CAOWC,KAAK,IAAI;AAACL,IAAAA,QAAQ,CAAC,IAAD,CAAR;AAAgBO,IAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AAAmB,GAPxD;AAQH,C;;AAnCgBV,mB,CAqCVgB,M,GAAS,CAACd,IAAD,EAAOG,QAAP,KAAoB;AAChCjB,EAAAA,OAAO,CAACc,IAAD,CAAP,CACKI,IADL,CAEQ,MAAMD,QAAQ,CAAC,IAAD,CAFtB,EAIKI,KAJL,CAIYC,KAAD,IAAW;AAAEE,IAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AAAoBL,IAAAA,QAAQ,CAAC,KAAD,CAAR;AAAiB,GAJ7D;AAKH,C","sourcesContent":["import { signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut, sendSignInLinkToEmail } from 'firebase/auth'\n\nconst actionCodeSettings = {\n   url: 'http://localhost:3000/',\n   // This must be true.\n   handleCodeInApp: true,\n   iOS: {\n     bundleId: 'com.example.ios'\n   },\n   android: {\n     packageName: 'com.example.android',\n     installApp: true,\n     minimumVersion: '12'\n   },\n   dynamicLinkDomain: 'example.page.link'\n  };\n  \n\nexport default class FirebaseUserService {\n\n    static signup = (auth, login, password, callback) => {\n        createUserWithEmailAndPassword(\n            auth, login, password\n        )\n            .then(\n                (userCredential)=>{\n                    sendSignInLinkToEmail(auth, login, actionCodeSettings)\n                    .then(() => {\n                        callback(true, userCredential.user)  \n                     })\n                    .catch((error) => {\n                        callback(false, error.code)\n                        console.log(error.code)\n                    })\n                }\n            )\n            .catch(\n                (error) => {\n                    callback(false, error.code)\n                    console.log(error.code)\n                }\n            )\n    }\n\n    static login = (auth, email, password, callback) => {\n        signInWithEmailAndPassword(auth, email, password)\n            .then(\n                (userCredential) => {\n                    userCredential.user.sendEmailVerification()\n                    callback(userCredential.user)\n                }\n            )\n            .catch(error => {callback(null); console.log(error)})\n    }\n\n    static logout = (auth, callback) => {\n        signOut(auth)\n            .then(\n                () => callback(true)\n            )\n            .catch((error) => { console.log(error); callback(false) })\n    }\n\n\n}"]},"metadata":{},"sourceType":"module"}